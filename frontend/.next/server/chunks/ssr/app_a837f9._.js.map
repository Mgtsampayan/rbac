{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/GEMUEL/Documents/school-management-system/frontend/app/auth/auth.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useUser } from '../utils/userContext';\r\n\r\ninterface AuthProps {\r\n    children: React.ReactNode;\r\n    allowedRoles?: string[];\r\n}\r\n\r\nconst Auth = ({ children, allowedRoles }: AuthProps) => {\r\n    const router = useRouter();\r\n    const { user, isLoading, error } = useUser();\r\n\r\n\r\n    useEffect(() => {\r\n        if (!isLoading && error === 'Failed to fetch user data.') {\r\n            router.push('/login');\r\n            return\r\n        }\r\n    }, [isLoading, error, router]);\r\n\r\n    useEffect(() => {\r\n        if (!user || isLoading) {\r\n            return;\r\n        }\r\n\r\n        const userRole = user.role;\r\n\r\n        if (allowedRoles && !allowedRoles.includes(userRole)) {\r\n            router.push('/not-authorized');\r\n        }\r\n    }, [user, allowedRoles, router, isLoading]);\r\n\r\n    if (isLoading) {\r\n        return <p>Loading...</p>;\r\n    }\r\n\r\n    if (error) {\r\n        return null\r\n    }\r\n\r\n    return <>{children}</>;\r\n};\r\n\r\nexport default Auth;"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAWA,MAAM,OAAO,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAa;IAC/C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4HAAA,CAAA,UAAO,AAAD;IAGzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,CAAC,aAAa,UAAU,8BAA8B;YACtD,OAAO,IAAI,CAAC;YACZ;QACJ;IACJ,GAAG;QAAC;QAAW;QAAO;KAAO;IAE7B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,CAAC,QAAQ,WAAW;YACpB;QACJ;QAEA,MAAM,WAAW,KAAK,IAAI;QAE1B,IAAI,gBAAgB,CAAC,aAAa,QAAQ,CAAC,WAAW;YAClD,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;QAAM;QAAc;QAAQ;KAAU;IAE1C,IAAI,WAAW;QACX,qBAAO,8OAAC;sBAAE;;;;;;IACd;IAEA,IAAI,OAAO;QACP,OAAO;IACX;IAEA,qBAAO;kBAAG;;AACd;uCAEe"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/GEMUEL/Documents/school-management-system/frontend/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\nimport Auth from '../auth/auth';\r\n\r\n\r\nexport default function Dashboard() {\r\n    return (\r\n        <Auth allowedRoles={['admin', 'student', 'faculty', 'registrar', 'accounting', 'hr', 'parent']}>\r\n            <div>\r\n                <h1>Dashboard</h1>\r\n                <p> Welcome to the Dashboard </p>\r\n            </div>\r\n        </Auth>\r\n    );\r\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAIe,SAAS;IACpB,qBACI,8OAAC,oHAAA,CAAA,UAAI;QAAC,cAAc;YAAC;YAAS;YAAW;YAAW;YAAa;YAAc;YAAM;SAAS;kBAC1F,cAAA,8OAAC;;8BACG,8OAAC;8BAAG;;;;;;8BACJ,8OAAC;8BAAE;;;;;;;;;;;;;;;;;AAInB"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}