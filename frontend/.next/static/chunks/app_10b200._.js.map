{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/GEMUEL/Documents/school-management-system/frontend/app/auth/auth.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useUser } from '../utils/userContext';\r\n\r\ninterface AuthProps {\r\n    children: React.ReactNode;\r\n    allowedRoles: string[];\r\n}\r\n\r\nconst Auth = ({ children, allowedRoles }: AuthProps) => {\r\n    const router = useRouter();\r\n    const { user, isLoading, error } = useUser();\r\n\r\n\r\n    useEffect(() => {\r\n        if (!isLoading && error === 'Failed to fetch user data.') {\r\n            router.push('/login');\r\n            return\r\n        }\r\n    }, [isLoading, error, router]);\r\n\r\n    useEffect(() => {\r\n        if (!user || isLoading) {\r\n            return;\r\n        }\r\n\r\n        const userRole = user.role;\r\n\r\n        if (allowedRoles && !allowedRoles.includes(userRole)) {\r\n            router.push('/not-authorized');\r\n        }\r\n    }, [user, allowedRoles, router, isLoading]);\r\n\r\n\r\n    if (isLoading) {\r\n        return <p>Loading...</p>;\r\n    }\r\n\r\n    if (error) {\r\n        return null;\r\n    }\r\n\r\n    return <>{children}</>;\r\n};\r\n\r\nexport default Auth;"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAWA,MAAM,OAAO,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAa;;IAC/C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAGzC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACN,IAAI,CAAC,aAAa,UAAU,8BAA8B;gBACtD,OAAO,IAAI,CAAC;gBACZ;YACJ;QACJ;yBAAG;QAAC;QAAW;QAAO;KAAO;IAE7B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACN,IAAI,CAAC,QAAQ,WAAW;gBACpB;YACJ;YAEA,MAAM,WAAW,KAAK,IAAI;YAE1B,IAAI,gBAAgB,CAAC,aAAa,QAAQ,CAAC,WAAW;gBAClD,OAAO,IAAI,CAAC;YAChB;QACJ;yBAAG;QAAC;QAAM;QAAc;QAAQ;KAAU;IAG1C,IAAI,WAAW;QACX,qBAAO,6LAAC;sBAAE;;;;;;IACd;IAEA,IAAI,OAAO;QACP,OAAO;IACX;IAEA,qBAAO;kBAAG;;AACd;GAlCM;;QACa,qIAAA,CAAA,YAAS;QACW,+HAAA,CAAA,UAAO;;;KAFxC;uCAoCS"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/GEMUEL/Documents/school-management-system/frontend/app/page.tsx"],"sourcesContent":["'use client';\nimport Auth from './auth/auth';\n\n\nexport default function Dashboard() {\n  return (\n      <Auth allowedRoles={['admin', 'student', 'faculty', 'registrar', 'accounting', 'hr', 'parent']}>\n        <div>\n          <h1>Dashboard</h1>\n          <p> Welcome to the Dashboard </p>\n        </div>\n      </Auth>\n  );\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAIe,SAAS;IACtB,qBACI,6LAAC,uHAAA,CAAA,UAAI;QAAC,cAAc;YAAC;YAAS;YAAW;YAAW;YAAa;YAAc;YAAM;SAAS;kBAC5F,cAAA,6LAAC;;8BACC,6LAAC;8BAAG;;;;;;8BACJ,6LAAC;8BAAE;;;;;;;;;;;;;;;;;AAIb;KATwB"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}